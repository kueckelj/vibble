% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/utils-spatial.R
\name{vbl_doc_abs_rel}
\alias{vbl_doc_abs_rel}
\alias{is_abs}
\alias{is_rel}
\alias{as_abs}
\alias{as_rel}
\title{Absolute and relative numeric specifications}
\usage{
is_abs(x)

is_rel(x)

as_abs(x)

as_rel(x)
}
\arguments{
\item{x}{A numeric vector to be classified or marked as absolute or relative.}
}
\value{
\itemize{
\item \code{is_abs()}: Logical scalar, \code{TRUE} if \code{x} is interpreted as an absolute specification.
\item \code{is_rel()}: Logical scalar, \code{TRUE} if \code{x} is interpreted as a relative specification.
\item \code{as_abs()}: Numeric vector equal to \code{x} but marked with an \code{"abs"} attribute set to \code{TRUE}.
\item \code{as_rel()}: Numeric vector equal to \code{x} but marked with a \code{"rel"} attribute set to \code{TRUE}.
}
}
\description{
Provide a unified mechanism to distinguish absolute and relative numeric specifications
for spatial parameters like \code{offset_dist}, \code{buffer} or \code{expand}.
}
\details{
These helpers define a consistent convention for interpreting numeric magnitudes.
They are intended for arguments that describe spatial shifts or expansions such as \code{offset_dist}, \code{buffer}, or \code{expand}.

Default classification rules are.
\itemize{
\item \code{is_abs(x)} is \code{TRUE} if \code{x} is an integer vector or has an \code{"abs"} attribute set to \code{TRUE}.
\item \code{is_rel(x)} is \code{TRUE} if \code{x} is a double vector and not absolute, or has a \code{"rel"} attribute set to \code{TRUE}.
}

The constructor helpers explicitly mark intent.
\itemize{
\item \code{as_abs(x)} coerces \code{x} to numeric and sets the \code{"abs"} attribute.
\item \code{as_rel(x)} coerces \code{x} to numeric and sets the \code{"rel"} attribute.
}

Attribute-based markings take precedence over the default type-based interpretation.
}
\note{
Use these helpers in functions that accept both absolute and relative magnitudes to keep the API predictable.
For example, a \code{buffer} argument may treat \code{2L} or \code{as_abs(2)} as an absolute shift in voxel units and \code{0.1} or \code{as_rel(0.1)} as a 10 \% relative expansion.
}
\examples{
# Default behaviour: integers absolute, doubles relative
is_abs(2L)
is_rel(0.2)

# Attribute-based overrides
x_abs <- as_abs(2)
x_rel <- as_rel(2)
is_abs(x_abs)
is_rel(x_rel)

# Example usage in a buffer argument (conceptual)
buf_abs <- as_abs(3)   # expand by 3 units
buf_rel <- 0.1        # expand by 10 \% of the range

}
