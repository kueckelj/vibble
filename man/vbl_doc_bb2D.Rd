% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/vibble-space.R
\name{vbl_doc_bb2D}
\alias{vbl_doc_bb2D}
\alias{bb2D_df}
\alias{bb2D_lst}
\title{Compute 2D bounding boxes}
\usage{
bb2D_df(vbl2D, .cond = NULL, .by = NULL, slices = NULL, expand = FALSE)

bb2D_lst(vbl2D, .cond = NULL, .by = NULL, slices = NULL, expand = FALSE)
}
\arguments{
\item{vbl2D}{A \link[=vbl_doc_vbl2D]{2D vibble}.}

\item{.cond}{Optional logical filter expression evaluated on \code{vbl2D} before computing bounding boxes.
The expression is evaluated with \link[rlang:args_data_masking]{data-masking} semantics.}

\item{.by}{A \link[dplyr:dplyr_tidy_select]{tidy-selection} of columns to
group by before applying the filtering logic of \code{.cond}.}

\item{slices}{Optional numeric vector of slice indices to include. Defaults to all \link{slices}.}

\item{expand}{Optional. If provided, the \link[=is_expand]{expand} value is
used to expand the 2D limits of each slice-wise bounding box.}
}
\value{
\code{bb2D_df()} returns a tibble with one row per slice and columns.
\itemize{
\item \code{plane}: Plane attribute of \code{vbl2D}.
\item \code{slice}: Slice index.
\item \code{cmin}, \code{cmax}: Column limits with optional buffer applied.
\item \code{rmin}, \code{rmax}: Row limits with optional buffer applied.
}

\code{bb2D_lst()} returns a list of length \code{max(slices)}.
\itemize{
\item Entries at positions corresponding to \code{slices} contain a list with elements
\code{col} and \code{row}, each a length-two numeric vector giving the buffered limits.
\item Positions for slices not requested remain \code{NULL}, making direct indexing by slice number possible.
}

The two output formats are designed for different downstream uses.
The data frame variant is well suited for plotting layers such as rectangle overlays.
The list variant matches interfaces that expect per-slice bounding boxes in \code{list(col = ..., row = ...)} form.
}
\description{
Compute 2D bounding boxes per slice for \code{vbl2D} objects.
Two variants are provided.
\itemize{
\item \code{bb2D_df()}: tibble with one row per slice, convenient for plotting and joins.
\item \code{bb2D_lst()}: list indexed by slice, convenient for passing bounding boxes to other helpers.
}
}
\note{
For a \link[=is_bb2D]{2D bounding box}, a column- and a row-\link{limit} must be computed,
which requires at least two different column- and two different row values per slice. If
a slice does not match these requirements the functions silently skip these slices.
}
\examples{
vbl <- example_vbl()
vbl2D <- vibble2D(vbl, plane = "axi", slices = 60:62)

# Tibble output
bb_df <- bb2D_df(vbl2D, .cond = brain == TRUE, buffer = c(0.1, 0.1))

# List output indexed by slice
bb_lst <- bb2D_lst(vbl2D, .cond = brain == TRUE, buffer = as_abs(2))
bb_lst[[60]]  # bounding box for slice 60

}
\seealso{
\link{vbl_doc_abs_rel} for absolute and relative specifications.
\link{plane}() for accessing the plane of a \code{vbl2D} object.
}
