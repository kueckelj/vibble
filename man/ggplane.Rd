% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/ggvibble.R
\name{ggplane}
\alias{ggplane}
\title{Create a 2D ggplot representation of voxel data}
\usage{
ggplane(
  vbl,
  plane,
  slices,
  var,
  offset_dist = 0,
  offset_dir = "left",
  offset_num = TRUE,
  clrp = vbl_opts("clrp"),
  clrsp = vbl_opts("clrsp"),
  interpolate = vbl_opts("interpolate"),
  expand = vbl_opts("expand"),
  lim = NULL,
  ncol = NULL,
  nrow = NULL,
  animate = FALSE,
  cond = NULL,
  ...
)
}
\arguments{
\item{vbl}{A \link{vibble}.}

\item{plane}{The anatomical orientation. Valid options are \emph{c('sag', 'axi', 'cor')}.}

\item{slices}{Numeric vector of slice positions in the selected \code{plane}.}

\item{var}{Name of the numeric variable to visualize.}

\item{offset_dist}{Distance by which voxels are shifted along \code{offset_dir} in the 2D plane.
Values \verb{< 1} are interpreted as a proportion of the maximal coordinate,
values \verb{>= 1} as an absolute distance in coordinate units.}

\item{offset_dir}{Direction in which to shift voxels when \code{offset_dist > 0}.
Valid options are \emph{c('left', 'right', 'top', 'bottom')}. A \emph{'-flip'} suffix as
in \emph{'left-flip'} is also valid and flips the slice ordering.}

\item{offset_num}{Should slice index numbers be displayed if \code{offset_dist > 0}.

If \code{TRUE}, the slice numbers are visualized with default settings of \link{layer_slice_num}().
Alternatively, a named list can be provided to specicy how \code{layer_slice_num()} should
be called.}

\item{clrsp}{Color spectrum for numeric fill. May be two colors, a palette
name, or a viridis option.}

\item{lim}{Flexible input for the axis limits of the plot. \code{NULL}, named list of length 2
or numeric vector length 2 to constrain both axes. See section \emph{Col and row limits}.}

\item{ncol, nrow}{Numeric or NULL. If \code{offset = 0}, both arguments are passed to
\link{facet_wrap()}.}

\item{animate}{Logical. If \code{TRUE}, construct a plot structure suitable for
animation (no facetting across slices).}

\item{cond}{Optional logical filter expression that determines the specific
voxels to be included in the plot - including all layers added to it. The expression
is evaluated with \link[rlang:args_data_masking]{tidyverse's data-masking}
semantics on the \link{vibble2D}() created. See \link[=ggvibble_doc_cond]{Details} for
more information and examples.}

\item{...}{Additional arguments forwarded to \link{scale_fill_numeric}().}

\item{lim_col, lim_row}{Optional numeric vector length 2 for limits of the respective
plotting axis. Overwrite \code{lim}.}
}
\value{
A \code{ggvibble} object, which prints as a ggplot and can accept
additional layers via \code{+}.
}
\description{
Build a 2D visualization of a 3D vibble by selecting slices in a
specified anatomical plane and plotting a numeric variable as a raster image.
}
\details{
See \link{ggvibble}.
}
\section{Col and row limits}{

Col and row limits are resolved in the following order. If \code{lim} is a numeric
vector of length 2, the same limits are applied to both axes. If \code{lim}
is a list, it must contain numeric elements \code{col} and \code{row}, which are
used separately for col and row. If \code{lim} is \code{NULL}, any numeric \code{lim_col}
and \code{lim_row} are used. Otherwise, limits default to the full range of
\code{col} and \code{row}. The y-axis is internally reversed to match
image-style coordinates.

If \code{offset_dist > 0}, limits are computed automatically.
}

\examples{
vbl <- example_vbl()

ggplane(
  vbl = vbl,
  plane = "axi",
  slices = 90,
  var = "raw_t1"
)

}
\seealso{
\code{\link[=vibble2D]{vibble2D()}}
}
