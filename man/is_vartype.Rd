% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/vibble-tests.R
\name{is_vartype}
\alias{is_vartype}
\title{This is a title.}
\usage{
is_vartype(vbl, var, type, fdb = rlang::abort)
}
\arguments{
\item{vbl}{A \link{vibble}.}

\item{var}{Name of the variable in \code{vbl} to be checked.}

\item{type}{Expected variable type. Must be one of the entries in
\code{vbl_data_var_types}. Passed to \code{match.arg()}.}

\item{fdb}{A function used for feedback if the type does not match.
The function must accept a character message as its first argument.
Typical values are \code{base::stop}, \code{base::warning}, or \code{base::message}.
Defaults to \code{base::stop}.}
}
\value{
\code{TRUE} if the variable has the expected type, otherwise returns
\code{invisible(FALSE)} after calling the feedback function.
}
\description{
Check whether a variable stored in a vibble has the expected variable type
(e.g. \code{"mask"}, \code{"label"}, \code{"numeric"}, \code{"score"}) and trigger feedback
through a user-supplied function (default: \code{base::stop()}).
}
\details{
The function compares the expected type (\code{type}) with the actual
variable type returned by \code{var_type()}.
If they differ, a message is constructed that includes:
\itemize{
\item the name of the calling function,
\item the argument name that was passed to \code{var},
\item the expected type and the actual type.
The message is then passed to the feedback function \code{fdb()}.
}
}
\examples{
\dontrun{
fn_x <- function(vbl, var_mask){
  is_vartype(vbl, var = var_mask, type = "mask")
}

fn_x(vbl, "Score")  # triggers error via base::stop()
}

}
\seealso{
\code{var_type()}, \code{vbl_data_var_types}
}
