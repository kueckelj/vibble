% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/ggvibble-layers.R
\name{layer_numeric}
\alias{layer_numeric}
\title{Add a numeric layer to a ggvibble plot}
\usage{
layer_numeric(
  var,
  clrsp,
  alpha = c(0.2, 0.45),
  interpolate = .vbl_opt("interpolate"),
  slices = NULL,
  cond = NULL,
  ...
)
}
\arguments{
\item{var}{Character. Must refer to a column in the
\link{vibble} containing continuous or integer-valued numeric data.}

\item{clrsp}{Color specification passed to \link{scale_fill_numeric}() to
define the numeric color mapping.}

\item{alpha}{Controls the fill transparency. May be a single value in \verb{[0,1]},
a numeric vector of length two, or an expression evaluated with
\link[rlang:args_data_masking]{tidyverse's data-masking} semantics.
See \link[=ggvible_doc_alpha]{Details} for more information.}

\item{slices}{Optional numeric vector of slice indices on which this layer
should be drawn. This restricts the layer at the slice level, in contrast to
\code{cond}, which restricts the layer at the voxel level.

If \code{NULL}, the layer is applied to all slices included in the corresponding
\link{ggplane}() call.}

\item{cond}{Optional logical filter expression that determines the specific
voxels on which this layer is drawn. This allows fine-grained, voxel-level
filtering beyond whole-slice selection. The expression is evaluated with
\link[rlang:args_data_masking]{tidyverse's data-masking} semantics
on the \link{vibble2D}() passed into the layer by the \link{ggplane}() call.
See \link[=ggvibble_doc_cond]{Details} for more information and examples.

If \code{NULL}, the layer is drawn for all voxels included in the corresponding
\link{ggplane}() call.}

\item{...}{Additional arguments passed to \link{scale_fill_numeric}().}
}
\value{
A \code{ggvibble_layer} object containing the supplied function. When
added to a \code{ggvibble}, the function is executed and its returned layers are
inserted into the plot.
}
\description{
Overlay a numeric variable on a \code{ggplane()} plot by mapping its
values to a continuous fill scale.
}
\details{
\code{layer_numeric()} draws a raster layer of \code{var} using \code{geom_raster()}. Transparency is
computed by \code{eval_tidy_alpha()} based on \code{alpha} and the values of \code{var}. The fill scale is
constructed by \link{scale_fill_numeric}(), using \code{clrsp} and the numeric range obtained from
\code{var_smr()}. A new fill scale is created via \code{ggnewscale::new_scale_fill()} so that numeric layers do not
interfere with previously defined fill scales.
}
\examples{
vbl <- example_vbl()

ggplane(
  vbl = vbl,
  plane = "axi",
  slices = 90,
  var = "raw_t1"
) +
  layer_numeric(
    var = "score",
    clrsp = "Inferno",
    alpha = c(0.2, 0.6)
  )

}
