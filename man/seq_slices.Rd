% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/utils-misc.R
\name{seq_slices}
\alias{seq_slices}
\title{Generate slice sequences based on voxel-wise conditions}
\usage{
seq_slices(vbl, plane, .cond = NULL, .by = NULL, buffer = 0, ...)
}
\arguments{
\item{vbl}{A \link[=vbl_doc_vbl]{vibble}.}

\item{plane}{The anatomical orientation. Valid options are \emph{c('sag', 'axi', 'cor')}.}

\item{.cond}{Logical expression evaluated \link[rlang:args_data_masking]{tidyverse's data-masking}
semantics on the \link{vibble2D}() representation (e.g., \code{expr = tumor},
\code{expr = raw_t1 > 0.5}). Determines which slices are selected.}

\item{.by}{A \link[dplyr:dplyr_tidy_select]{tidy-selection} of columns to
group by before applying the filtering logic of \code{.cond}.}

\item{buffer}{Numeric. If \code{buffer > 0}, the slice range is expanded before
generating the sequence. If \code{buffer < 1}, it is interpreted as a proportion
of the number of matched slices; if \code{buffer >= 1}, it is interpreted as an
absolute number of slices.}

\item{...}{Additional arguments passed to \link{seq}(), such as \code{length.out}.}
}
\value{
An integer vector of slice indices.
}
\description{
Produces a sequence of slice indices for use in \link{ggplane}()
and the \verb{seq_*} family of helper functions.
}
\details{
The function works in three steps:
\itemize{
\item Converts the vibble to 2D using \link{vibble2D}().
\item Identifies all slices containing voxels that satisfy \code{cond}.
\item Optionally expands this range using \code{buffer}, then generates a
regular sequence using \link{seq}().
}

\code{seq_slices()} is part of the \verb{seq_*} family, which provides convenient
ways to generate axis-based sequences (e.g., for slicing, animation, or
stepping through the volume). This function focuses specifically on
condition-based slice selection.
}
\examples{
vbl <- example_vbl()

# All slices containing tumor voxels
seq_slices(vbl, plane = "axi", cond = tumor)

# Expand by 3 slices on each side
seq_slices(vbl, "axi", cond = tumor, buffer = 3)

# Use a proportional buffer and step through slices by 2
seq_slices(vbl, "axi", cond = tumor, buffer = 0.2, by = 2)

}
\seealso{
\link{ggplane}(), \link{vibble2D}(), \link{seq}
}
