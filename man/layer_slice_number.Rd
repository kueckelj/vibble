% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/ggvibble-layers.R
\name{layer_slice_number}
\alias{layer_slice_number}
\title{Add slice numbers to an offset ggvibble plot}
\usage{
layer_slice_number(
  pos = NULL,
  buffer = 0.1,
  wrap = NULL,
  angle = NULL,
  alpha = 0.8,
  color = "white",
  size = 3.5,
  ...
)
}
\arguments{
\item{pos}{Character specifying where the slice number should be placed
relative to the 2D slice. If \code{NULL}, valid options and default depend on \code{offset_dir}
from the \link{ggplane}() call:
\itemize{
\item \code{"top"} or \code{"bottom"} when slices were offset horizontally (default: \emph{'top'})
\item \code{"left"} or \code{"right"} when slices were offset vertically (default: \emph{'left'})
}}

\item{buffer}{Numeric offset controlling how far the slice number is placed
from the slice edge. Values \verb{<1} are treated as proportions of the axis
range; values \verb{>=1} are treated as absolute offsets. Direction depends on
\code{pos} and the offset orientation.}

\item{wrap}{Optional character template used to format slice labels. Must be
of length 1. The placeholder \code{{slice}} is replaced with the numeric slice
value (e.g., \code{wrap = "Slice {slice}"}).}

\item{angle}{Numeric rotation angle for the text label. If \code{NULL},
orientation defaults to commonly readable angles depending on the chosen
\code{pos} (0°, 90°, 270°).}

\item{alpha}{Numeric transparency in \verb{[0,1]}.}

\item{color}{Color of the slice label.}

\item{size}{Text size passed to \link{geom_text}().}

\item{...}{Additional arguments forwarded to \link{geom_text}() like \code{hjust},
\code{vjust}, \code{fontsize}.}
}
\value{
A \code{ggvibble_layer} that annotates each slice with its slice number.
}
\description{
Display the numeric slice index on each offset slice.
The placement and orientation of the slice number adapts automatically
to the offset direction used in the \link{ggplane()} call.
}
\details{
\code{layer_slice_number()} is designed for use with offset visualizations created
by \link{ggplane}(). Slice labels are positioned along the appropriate axis
depending on whether \link{vibble2D}() offset the slice horizontally or
vertically. The internal implementation computes:

\itemize{
\item the orientation (\code{"h"} or \code{"v"}) via \link{offset_dir}()
\item default positions (\code{"top"}, \code{"bottom"}, \code{"right"}, \code{"left"})
\item default angles for readability
\item the absolute plotting coordinates using \link{slice_num_col}() and
\link{slice_num_row}()
}

A custom label format can be supplied via \code{wrap}, and aesthetics (color,
transparency, size) behave as in \link{geom_text}().
}
\examples{
vbl <- example_vbl()

# Default slice numbering
ggplane(vbl, "axi", slices = 88:92, var = "raw_t1") +
  layer_slice_number()

# Custom position and formatting
ggplane(vbl, "axi", slices = 88:92, var = "raw_t1") +
  layer_slice_number(pos = "top", wrap = "Slice {slice}", color = "yellow")

}
\seealso{
\link{ggplane}(), \link{offset_dir}(), \link{vibble2D}()
}
