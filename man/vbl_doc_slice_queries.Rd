% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/utils-vibble2D.R
\name{vbl_doc_slice_queries}
\alias{vbl_doc_slice_queries}
\alias{slices_seq}
\alias{slices_seq.vbl}
\alias{slices_seq.vbl2D}
\alias{slices}
\alias{slices.vbl}
\alias{slices.vbl2D}
\alias{slices_cond.vbl}
\alias{slices_cond.vbl2D}
\alias{slices_mid}
\alias{slices_mid.vbl}
\alias{slices_mid.vbl2D}
\title{Slice queries and slice selection sequences}
\usage{
slices_seq(x, ...)

\method{slices_seq}{vbl}(x, plane = vbl_opts("plane"), from = NULL, to = NULL)

\method{slices_seq}{vbl2D}(x, from = NULL, to = NULL)

slices(x, ...)

\method{slices}{vbl}(x, plane = vbl_opts("plane"), ...)

\method{slices}{vbl2D}(x, ...)

\method{slices_cond}{vbl}(x, plane = vbl_opts("plane"), .cond, n = 6)

\method{slices_cond}{vbl2D}(x, .cond, n = 6)

slices_mid(x, ...)

\method{slices_mid}{vbl}(x, plane = vbl_opts("plane"), radius = 0.2, n = 6)

\method{slices_mid}{vbl2D}(x, radius = 0.2, n = 6)
}
\arguments{
\item{x}{A vibble (\code{vbl}) or vibble2D (\code{vbl2D}) object.}

\item{...}{Additional arguments, currently unused.}

\item{plane}{Character scalar. Anatomical plane used to determine the slice
axis for \code{vbl}. Valid options are \emph{c('axi', 'cor', 'sag')}.}

\item{from, to}{Optional numeric scalars. Lower and upper slice bounds for
\code{slices_seq()}. If \code{NULL}, bounds default to \code{slice_min()} and \code{slice_max()}.}

\item{.cond}{A logical expression evaluated per voxel row using data-masking.}

\item{n}{Integer. Maximum number of slices returned by \code{slices_cond()} and
\code{slices_mid()}.}

\item{radius}{Numeric scalar. If \code{radius < 1}, it is interpreted as a fraction
of the observed slice range. Otherwise it is interpreted as an absolute integer
radius around the median slice.}
}
\value{
\itemize{
\item{slices(): } Integer vector of unique slice indices.
\item{slices_seq(): } Integer vector of contiguous slices.
\item{slices_cond(): } Integer vector of selected slices, downsampled to at
most \code{n}.
\item{slices_mid(): } Integer vector of selected slices, downsampled to at
most \code{n}.
}
}
\description{
Utilities to query represented slices and to construct representative slice
sequences for quick plotting.
}
\details{
The \verb{slice_*} family returns single-value or range summaries of slice position
such as limits, range, min, max, or mid.

The \verb{slices_*} family returns integer vectors of slice indices intended for
plotting and iteration. These functions produce slice sequences or selections
that can be passed directly to \code{ggplane(..., slices = )}.

For \code{vbl}, the slice axis is determined from \code{plane} via \code{plane_to_ccs()}.
For \code{vbl2D}, slices are taken from \code{x$slice}.
}
\section{Functions}{

\itemize{
\item{slices(): } Returns the unique slice indices represented by the object.
\item{slices_seq(): } Returns a contiguous integer sequence \code{from:to} within
the observed slice range. If \code{from} or \code{to} are \code{NULL}, bounds default to
\code{slice_min()} and \code{slice_max()}.
\item{slices_cond(): } Returns a representative subset of slices where a
per-voxel condition \code{.cond} holds. The resulting slice indices are downsampled
to at most \code{n} values via \code{.downsample()}.
\item{slices_mid(): } Returns a representative subset of slices centered on
the median slice. \code{radius} can be an absolute integer radius or a proportion
of the observed slice range if \code{radius < 1}. The resulting slice indices are
downsampled to at most \code{n} values via \code{.downsample()}.
}
}

\examples{
vbl <- example_vbl()

# query represented slices
slices(vbl, plane = "axi")

# create a contiguous sequence within the observed range
slices_seq(vbl, plane = "axi", from = 90, to = 110)

# select slices by condition (then downsample)
slices_cond(vbl, "axi", tumor, n = 6)

# select slices around the mid slice
slices_mid(vbl, "axi", radius = 0.2, n = 6)

}
