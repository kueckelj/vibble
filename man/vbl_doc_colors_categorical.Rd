% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/ggvibble-colors.R
\name{vbl_doc_colors_categorical}
\alias{vbl_doc_colors_categorical}
\alias{clrp_opts}
\alias{clrp_opts_vec}
\alias{color_palettes}
\alias{color_vector}
\title{Utilities for mapping colors to label variables}
\usage{
clrp_opts()

clrp_opts_vec()

color_palettes()

color_vector(clrp, names = NULL, clrp_adjust = NULL, nc = NA)
}
\arguments{
\item{clrp}{Character scalar naming the palette in \code{color_vector()}.
Must be one of \code{clrp_opts_vec()} or \code{"default"} (handled specially).}

\item{names}{Optional character vector of label / factor levels.
If supplied, its length defines the number of colors and the returned vector is named.}

\item{clrp_adjust}{Optional named character vector of hex colors used to override specific
entries in the palette returned by \code{color_vector()}. Names must be a subset of \code{names}.}

\item{nc}{Optional integer specifying the number of colors to generate when \code{names} is not
supplied.}
}
\value{
\itemize{
\item \code{color_palettes()}: Nested list of palette families and palettes (hex codes).
\item \code{clrp_opts()}: List of palette-name vectors grouped by family and \code{"viridis"}.
\item \code{clrp_opts_vec()}: Character vector of all valid \code{clrp} identifiers.
\item \code{color_vector()}: Character vector of hex colors, optionally named by \code{names}.
}
}
\description{
Helpers for managing categorical color palettes used for label variables.
They provide:
\itemize{
\item grouped access to predefined palettes (\code{color_palettes()}),
\item valid palette identifiers for the \code{clrp} argument of \link{scale_fill_categorical}() ,
\item a constructor to obtain hex color vectors for factor/label levels (\code{color_vector()}).
}
}
\details{
\code{color_palettes()} returns a nested list of fixed-length categorical palettes:
\itemize{
\item top-level names are palette families (currently \code{"ggsci"} and \code{"matplotlib"}),
\item each family is a named list of palettes,
\item each palette is a character vector of hex colors.
}

\code{clrp_opts()} converts \code{color_palettes()} into a list of palette-name vectors per family and
adds an additional \code{"viridis"} entry containing the result of \code{color_opts_viridis()}.
This gives a grouped registry of categorical palette identifiers.

\code{clrp_opts_vec()} flattens the list from \code{clrp_opts()} into a single sorted character
vector. It represents the full set of valid categorical palette names (\code{clrp}) that
\code{\link{color_vector}()} accepts (apart from \code{"default"}, which is handled specially).

\code{color_vector()} is the workhorse for discrete color mappings. It turns a palette name
(\code{clrp}) and either a set of labels (\code{names}) or a requested size (\code{nc}) into a vector of
hex colors, optionally named and partially overridden via \code{clrp_adjust}.

Palette resolution in \code{color_vector()}:
\itemize{
\item The number of required colors \code{nc} is determined by:
\itemize{
\item \code{nc <- length(names)} if \code{names} is supplied, otherwise
\item \code{nc} if numeric, otherwise
\item a palette-specific default from \code{n_colors[[clrp]]}, unless \code{clrp} is
\code{"default"} or a viridis option (then an explicit \code{names} or \code{nc} is required).
}
\item A base palette is chosen by:
\itemize{
\item \code{"default"}: \code{scales::hue_pal()(nc)},
\item viridis options: \code{viridis::viridis(n = nc, option = clrp)},
\item RColorBrewer options: \code{RColorBrewer::brewer.pal(n = nc, name = clrp)},
\item other: looking up \code{clrp_opts()[[clrp]]}.
}
\item If \code{names} is provided:
\itemize{
\item If \code{length(names)} exceeds the palette size, a warning is issued and a fallback
qualitative palette is generated via \code{grDevices::hcl()},
\item the resulting color vector is named with \code{names},
\item if \code{clrp_adjust} is a named character vector, the corresponding entries are
replaced while preserving the order of \code{names}.
}
}
}
\examples{
# Available palette families and palettes
cps <- color_palettes()
names(cps)
names(cps$ggsci)

# Grouped and flattened categorical palette options
clrp_opts()
clrp_opts_vec()

# Build a named color vector for label levels
labs <- c("A", "B", "C")
cols <- color_vector(clrp = "jco", names = labs)

# Override individual levels
cols2 <- color_vector(
  clrp = "jco",
  names = labs,
  clrp_adjust = c(A = "#000000", C = "#FFFFFF")
)

}
